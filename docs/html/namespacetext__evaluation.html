<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLM-Toxicity-Optimization: text_evaluation Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLM-Toxicity-Optimization
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacetext__evaluation.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">text_evaluation Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa084e4c8d16e6d4671f35d6acdb1fea6" id="r_aa084e4c8d16e6d4671f35d6acdb1fea6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa084e4c8d16e6d4671f35d6acdb1fea6">get_perspective_score</a> (text)</td></tr>
<tr class="memdesc:aa084e4c8d16e6d4671f35d6acdb1fea6"><td class="mdescLeft">&#160;</td><td class="mdescRight">get_perspective_score function  <br /></td></tr>
<tr class="separator:aa084e4c8d16e6d4671f35d6acdb1fea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8173efba0ecd4047239d6aeb16b6469f" id="r_a8173efba0ecd4047239d6aeb16b6469f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8173efba0ecd4047239d6aeb16b6469f">score_responses</a> (input_file, output_file)</td></tr>
<tr class="memdesc:a8173efba0ecd4047239d6aeb16b6469f"><td class="mdescLeft">&#160;</td><td class="mdescRight">score_responses function  <br /></td></tr>
<tr class="separator:a8173efba0ecd4047239d6aeb16b6469f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35dda75d9305bc00b8dfe596af2e9e6" id="r_ac35dda75d9305bc00b8dfe596af2e9e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac35dda75d9305bc00b8dfe596af2e9e6">main</a> ()</td></tr>
<tr class="memdesc:ac35dda75d9305bc00b8dfe596af2e9e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">main function  <br /></td></tr>
<tr class="separator:ac35dda75d9305bc00b8dfe596af2e9e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a52414e0f478ff42bdfcf2331d5ca9bd4" id="r_a52414e0f478ff42bdfcf2331d5ca9bd4"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52414e0f478ff42bdfcf2331d5ca9bd4">PERSPECTIVE_API_KEY</a> = &quot;AIzaSyBd8Y5FDXJOmSZPHTURKVbRzeZM1cUZpB8&quot;</td></tr>
<tr class="separator:a52414e0f478ff42bdfcf2331d5ca9bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a44b499f6f766c5083a4af2df39485" id="r_a15a44b499f6f766c5083a4af2df39485"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15a44b499f6f766c5083a4af2df39485">PERSPECTIVE_API_URL</a> = &quot;https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze&quot;</td></tr>
<tr class="separator:a15a44b499f6f766c5083a4af2df39485"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa084e4c8d16e6d4671f35d6acdb1fea6" name="aa084e4c8d16e6d4671f35d6acdb1fea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa084e4c8d16e6d4671f35d6acdb1fea6">&#9670;&#160;</a></span>get_perspective_score()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">text_evaluation.get_perspective_score </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>text</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get_perspective_score function </p>
<p>Function to get the toxicity score from the Perspective API </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">text</td><td>(Any) text as used in get_perspective_score. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<pre class="fragment">This function sends the provided text to the Perspective API to analyze its toxicity,
severe toxicity, and insult scores.

Args:
    text (str): The text for which toxicity scores are to be evaluated.

Returns:
    tuple: A tuple containing the toxicity score, severe toxicity score, and insult score.
        If the API request fails, returns None for all scores.
</pre> 
</div>
</div>
<a id="ac35dda75d9305bc00b8dfe596af2e9e6" name="ac35dda75d9305bc00b8dfe596af2e9e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac35dda75d9305bc00b8dfe596af2e9e6">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">text_evaluation.main </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>main function </p>
<p>Main function to score and save responses </p><dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<pre class="fragment">Main function that orchestrates the scoring of responses using the Perspective API.

It reads responses from an input JSON file, scores them, and saves the responses
with the scores to an output JSON file.
</pre> 
</div>
</div>
<a id="a8173efba0ecd4047239d6aeb16b6469f" name="a8173efba0ecd4047239d6aeb16b6469f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8173efba0ecd4047239d6aeb16b6469f">&#9670;&#160;</a></span>score_responses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">text_evaluation.score_responses </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>input_file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>output_file</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>score_responses function </p>
<p>Function to read responses from the original JSON file, score them, and save the results </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input_file</td><td>(Any) input_file as used in score_responses. </td></tr>
    <tr><td class="paramname">output_file</td><td>(Any) output_file as used in score_responses. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>str Generated or processed text.</dd></dl>
<pre class="fragment">This function reads responses from the input JSON file, evaluates the toxicity of
the responses using the Perspective API, and saves the responses with their toxicity scores
to a new JSON file.

Args:
    input_file (str): Path to the input JSON file containing responses.
    output_file (str): Path to the output JSON file where the scored responses will be saved.

Raises:
    Exception: If there is any issue with reading the file, processing the data, or saving the results.
</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a52414e0f478ff42bdfcf2331d5ca9bd4" name="a52414e0f478ff42bdfcf2331d5ca9bd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52414e0f478ff42bdfcf2331d5ca9bd4">&#9670;&#160;</a></span>PERSPECTIVE_API_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str text_evaluation.PERSPECTIVE_API_KEY = &quot;AIzaSyBd8Y5FDXJOmSZPHTURKVbRzeZM1cUZpB8&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a15a44b499f6f766c5083a4af2df39485" name="a15a44b499f6f766c5083a4af2df39485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15a44b499f6f766c5083a4af2df39485">&#9670;&#160;</a></span>PERSPECTIVE_API_URL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str text_evaluation.PERSPECTIVE_API_URL = &quot;https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacetext__evaluation.html">text_evaluation</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
